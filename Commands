--- SHOWS ALL THE DONORS IN THE DATABASE WHO ARE OVER THE AGE OF >=16 AND >=110 LBS. 

SELECT * FROM DONOR 


--- SHOWS DONATION DETAILS OF DONORS --

SELECT * FROM DONATION 


--- SHOWS BLOODBANK CONTACT INFORMATION ---

SELECT * FROM BLOODBANK

--- SHOWS BLOODBANK INVENTORY ---

SELECT * FROM BBINVENTORY


---SHOWS DONORS THAT DONATED BETWEEN 01-JAN-17 AND 15-NOV-20 ----

SELECT DONOR_ID, DONATION_NUMBER, DATE_OF_DONATION
FROM DONATION
WHERE DATE_OF_DONATION BETWEEN '01-JAN-17' AND '15-NOV-20'
ORDER BY DATE_OF_DONATION, DONOR_ID; 


----UPDATE DONORS AGE AND ADDRESS----

UPDATE DONOR
SET DONOR_AGE = '35', DONOR_ADDRESS = '277 POPLAR ST, PHILADELPHIA, PA 19130'
WHERE DONOR_ID = 576000023;

----SEE THE CHANGES OF THE DONORS AGE AND ADDRESS----

SELECT * FROM DONOR
WHERE DONOR_ID = 576000023;



----SELECT DONATION_BLOODTYPE SPECIFIC 'B+'

SELECT *
FROM Donation
WHERE donation_bloodtype IN (select donation_bloodtype
FROM Donation
WHERE donation_bloodtype = 'B+')


---LEFT JOIN STATEMENT TO RETREIVE BLOODBANK AND BBINVENTORY INFO---

SELECT * FROM BBINVENTORY
LEFT JOIN BLOODBANK ON BLOODBANK.BLOOD_BANK_ID = BBINVENTORY.BLOOD_BANK_ID



----SHOW INELIGIBLE DONORS BASED OFF OF PRE-EXISTING CONDITIONS----

SELECT 'INELIGIBLE' AS donorstatus, DONOR.DONOR_ID, FNAME, MINIT, LNAME, CONDITIONS FROM DONOR
WHERE CONDITIONS <> 'none'


-----SHOW ELIGIBLE DONORS (DONOR_ID) BASED OFF OF 'NONE' CONDITIONS----

SELECT 'ELIGIBLE' AS donorstatus, DONOR.DONOR_ID, FNAME, MINIT, LNAME, CONDITIONS FROM DONOR
WHERE CONDITIONS = 'none'


---Count BloodBank Volume to Demonstrate the number of people that donated 2 pints in the BBInventory---


SELECT COUNT (*) from BBInventory where BBinventory.bbvolumept = 2;



----DELETE THE INELIGIBLE DONORS OFF THE DATABASE------

use BloodBank
delete from Donor where not conditions = 'none';




----A VIEW COMMAND that only allows donor data for donor_id 576000002, 576000009, 576000010 to be viewed, and donâ€™t display age, address and conditions----

--CREATE VIEW TABLE --

CREATE View V1 as Select distinct donor_id,fname,minit,lname,weightLBS,donor_contact,donor_bloodtype from Donor where donor_id in(576000002, 576000009, 576000010);

--SELECT VIEW TABLE --

SELECT * FROM V1

--DELETE VIEW TABLE --

DROP VIEW V1

-- NESTED QUERY --

SELECT fname || ' ' || lname AS DONOR
FROM DONOR
WHERE donor_id IN (
    SELECT donor_id
    FROM DONATION
    WHERE donation_bloodtype IN ('AB-','O-') OR date_of_donation > '1-JAN-20');
    

